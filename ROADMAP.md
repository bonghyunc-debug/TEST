# ROADMAP.md - 개발 로드맵

> Smart Capital Gain Wizard 향후 개발 계획

---

## 🎯 비전

**"모든 양도소득세를 한 곳에서"**

부동산뿐만 아니라 주식(국내/해외), 파생상품 등 모든 양도소득세 신고를 지원하는 종합 플랫폼으로 발전

---

## 📅 릴리즈 계획

### Phase 1: 부동산 양도소득세 ✅ (v1.x)

**v1.0.0** (2024-12-13) ✅ 완료
- 8가지 자산유형 기본 지원
- 8단계 위자드 UI
- 세금 계산 핵심 로직

**v1.1.0** (2024-12-14) ✅ 완료
- 이월과세 증여세 공제
- 분기 로직 문서화

**v1.2.0** (2024-12-15) ✅ 완료
- 부담부증여 평가방법 분기
- 프로젝트 문서 체계 구축

---

### Phase 2: 주식 양도소득세 🔜 (v2.x)

**v2.0.0** (예정)
> 비상장주식 + 해외주식 양도소득세 지원

#### 2.0.0-alpha: 비상장주식
```
신규 자산유형:
├── unlisted_stock_major    # 비상장주식 (대주주)
├── unlisted_stock_minor    # 비상장주식 (소액주주)
└── unlisted_stock_sme      # 비상장주식 (중소기업)

계산 로직:
├── 대주주 판정 기준 (지분율/시가총액)
├── 중소기업 vs 일반기업 세율 구분
├── 의제취득가액 (2000.1.1 / 2013.1.1 등)
└── 증권거래세 계산
```

#### 2.0.0-beta: 해외주식
```
신규 자산유형:
└── overseas_stock          # 해외주식

계산 로직:
├── 연간 250만원 기본공제
├── 22% 단일세율 (지방세 포함)
├── 환율 적용 (매도일/취득일)
├── 손익통산 (같은 해 손실 상계)
└── 증권사별 양도차익 명세
```

#### 2.0.0: 통합 릴리즈
- 부동산/주식 통합 신고 지원
- 자산유형별 분리과세/종합과세 안내

---

### Phase 3: 신고서 생성 📄 (v2.1.x)

**v2.1.0** (예정)
> 국세청 양식 PDF 자동 생성

```
지원 서식:
├── 양도소득과세표준 신고 및 납부계산서 (갑)
├── 양도소득금액 계산명세서
├── 취득가액 및 필요경비 계산명세서
├── 장기보유특별공제 계산명세서
└── 감면세액 계산명세서

기술 구현:
├── PDF-lib 또는 jsPDF 활용
├── 국세청 양식 템플릿 매핑
└── 다운로드/인쇄 기능
```

---

### Phase 4: 고급 기능 🚀 (v2.2.x+)

**v2.2.0**: 다중 거래 합산
```
├── 연간 다중 거래 입력
├── 손익통산 자동 계산
├── 누진세율 합산 적용
└── 거래별 세부내역 조회
```

**v2.3.0**: 시뮬레이션
```
├── "언제 팔면 좋을까?" 시뮬레이션
├── 보유기간별 세금 비교
├── 감면 적용 전후 비교
└── 분양권→주택 전환 시점 분석
```

**v2.4.0**: 데이터 연동
```
├── 국세청 홈택스 데이터 연동 (OAuth)
├── 증권사 거래내역 자동 불러오기
├── 공시지가 조회 API 연동
└── 실거래가 조회 API 연동
```

---

## 🏗️ 기술 로드맵

### 단기 (v2.0)
- [ ] 주식 관련 타입 정의 확장
- [ ] 주식 세율표/공제표 상수 추가
- [ ] 주식 계산 로직 구현
- [ ] 주식 전용 UI 스텝 추가

### 중기 (v2.1-2.2)
- [ ] PDF 생성 라이브러리 도입
- [ ] 국세청 양식 템플릿 구현
- [ ] 다중 거래 상태관리 확장
- [ ] 거래 목록 UI 구현

### 장기 (v2.3+)
- [ ] 백엔드 서버 구축 (선택적)
- [ ] 사용자 계정 시스템
- [ ] 외부 API 연동
- [ ] 모바일 앱 (React Native)

---

## 📊 주식 양도소득세 명세

### 비상장주식 세율

| 구분 | 대주주 | 소액주주 |
|------|--------|----------|
| 중소기업 | 20% | 비과세 |
| 일반기업 | 20%~25% | 비과세 |
| 3억 초과분 | 25% | - |

### 해외주식 세율

| 항목 | 내용 |
|------|------|
| 세율 | 22% (지방세 포함) |
| 기본공제 | 연 250만원 |
| 신고기한 | 익년 5월 |
| 손익통산 | 동일 과세연도 내 가능 |

### 대주주 판정 기준 (2024년 기준)

| 구분 | 지분율 | 시가총액 |
|------|--------|----------|
| 코스피 | 1% | 50억원 |
| 코스닥 | 2% | 40억원 |
| 코넥스 | 4% | 20억원 |
| 비상장 | 4% | - |

---

## 🎨 UI/UX 개선 계획

### v2.0
- [ ] 자산유형 카테고리화 (부동산/주식/기타)
- [ ] 다크모드 지원
- [ ] 애니메이션 개선

### v2.1
- [ ] 결과 페이지 시각화 (차트)
- [ ] 인쇄 최적화 레이아웃
- [ ] 접근성(a11y) 강화

### v2.2+
- [ ] 대시보드 UI
- [ ] 거래 타임라인 뷰
- [ ] 드래그앤드롭 파일 업로드

---

## 📝 기여 가이드

### 우선순위 높은 기여 항목

1. **비상장주식 계산 로직 검증**
   - 대주주 판정 로직
   - 의제취득가액 계산

2. **해외주식 환율 처리**
   - 환율 API 연동
   - 매도일/취득일 환율 적용

3. **PDF 양식 매핑**
   - 국세청 양식 분석
   - 필드 매핑 테이블

4. **테스트 케이스**
   - 계산 로직 단위 테스트
   - E2E 테스트

---

## 📞 피드백

개발 우선순위에 대한 의견이나 새로운 기능 제안은 Issue로 남겨주세요!

---

*최종 업데이트: 2024-12-15*
*이 문서는 프로젝트 진행에 따라 업데이트됩니다.*
